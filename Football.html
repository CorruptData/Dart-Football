<!DOCTYPE html>

<html><head><meta name="viewport" http-equiv="Content-Type" content="width:1080px; text/html; charset=ISO-8859-1">
<style>

<!-- Assigns Text boxes -->

.background {
width:auto;
height:auto;
padding:3px;
background-size: 100% 100%;
}
  img {
    position: absolute;
    left: 0px;
    top: 0px;
    z-index: -1;
}

@font-face {
	font-family: sb;
	src: url(./Football_files/advanced_led_board-7.ttf);
}

h.info{

    font-family: "sb";
    position: absolute;
    top: 10px;
    left: 10px;
    color:  #f3c734;
   font-size: 50px;
}

h.info2{

    font-family: "sb";
    position: absolute;
    top: 80px;
    left: 10px;
    color:  #f3c734;
   font-size: 50px;
}

h.half{

    font-family: "sb";
    position: absolute;
    top: 1328px;
    left: 493px;
    color:  #f3c734;
   font-size: 116px;
   height: 116px;
   width: 94px;
   text-align:right;
   line-height: 116px;
   vertical-align: middle;
}

h.homeScore{

    font-family: "sb";
    position: absolute;
    top: 1262px;
    left: 752px;
    color:  #f3c734;
   font-size: 165px;
   height: 165px;
   width: 250px;
   text-align:right;
   vertical-align: middle;
   line-height: 165px;
}

h.awayScore{

    font-family: "sb";
    position: absolute;
    top: 1262px;
    left: 103px;
    color:  #f3c734;
   font-size: 165px;
   height: 165px;
   width: 250px;
   text-align:right;
   vertical-align: middle;
   line-height: 165px;
}

h.yardline{

    font-family: "sb";
    position: absolute;
    top: 1476px;
    left: 901px;
    color:  #f3c734;
   font-size: 116px;
   height: 116px;
   width: 149px;
   text-align:right;
   vertical-align: middle;
   line-height: 116px;
}

h.down{

    font-family: "sb";
    position: absolute;
    top: 1476px;
    left: 31px;
    color:  #f3c734;
   font-size: 116px;
   height: 116px;
   width: 72px;
   text-align:right;
   vertical-align: middle;
   line-height: 116px;
}

h.yardstogo{

    font-family: "sb";
    position: absolute;
    top: 1476px;
    left: 330px;
    color:  #f3c734;
   font-size: 116px;
   height: 116px;
   width: 149px;
   text-align:right;
   vertical-align: middle;
   line-height: 116px;
}


</style>

<!-- The scaling of the web page, use this on mobile devices -->
<!-- Currently does not work -->
</head><body onload="init();" style="width:1080px; margin:0;padding:0;">

<!-- Frame -->

<img src="./Football_files/Jeilm8H.png";>

<!-- Input Text Box -->

<div style="position: absolute;  top:170px; left:30px;"> 
<input onkeydown="Javascript: if (event.keyCode==13) {save();input();}" style="width:280px; height:190px; font-size:165px; font-family:sb; color: #f3c734; border-style:none; text-align:right; background-color:black; vertical-align: middle;" maxlength="3" type ="number" id="yards">
</div>

<!-- Team Selection Drop Down Menu for the Home Team -->
<div style="position: absolute;  top:1096px; left:699px;"> 
<select style="font-size:20px;" id="hometeam" onchange="hometeamselect();">
<option value="0">--Select Team--</option>
<option value="1">Arizona Cardinals</option>
<option value="2">Atlanta Falcons</option>
<option value="3">Baltimore Ravens</option>
<option value="4">Buffalo Bills</option>
<option value="5">Carolina Panthers</option>
<option value="6">Chicago Bears</option>
<option value="7">Cincinnatti Bengals</option>
<option value="8">Cleveland Browns</option>
<option value="9">Dallas Cowboys</option>
<option value="10">Denver Broncos</option>
<option value="11">Detroit Lions</option>
<option value="12">Green Bay Packers</option>
<option value="13">Houston Texans</option>
<option value="14">Inianapolis Colts</option>
<option value="15">Jacksonville Jaguars</option>
<option value="16">Kansas City Chiefs</option>
<option value="17">Miami Dolphins</option>
<option value="18">Minnesota Vikings</option>
<option value="19">New England Patriots</option>
<option value="20">New Orleans Saints</option>
<option value="21">New York Giants</option>
<option value="22">New York Jets</option>
<option value="23">Oakland Raiders</option>
<option value="24">Philadelphia Eagles</option>
<option value="25">Pittsburgh Steelers</option>
<option value="26">San Diego Chargers</option>
<option value="27">San Francisco 49ers</option>
<option value="28">Seattle Seahawks</option>
<option value="29">St. Louis Rams</option>
<option value="30">Tampa Bay Buccaneers</option>
<option value="31">Tennessee Titans</option>
<option value="32">Washington Redskins</option>
</select>
</div>

<!-- Team Selection Drop Down Menu for the Away Team -->

<div style="position: absolute;  top:1096px; left:125px;"> 
<select style="font-size:20px;" id="awayteam" onchange="awayteamselect();">
<option value="0">--Select Team--</option>
<option value="1">Arizona Cardinals</option>
<option value="2">Atlanta Falcons</option>
<option value="3">Baltimore Ravens</option>
<option value="4">Buffalo Bills</option>
<option value="5">Carolina Panthers</option>
<option value="6">Chicago Bears</option>
<option value="7">Cincinnatti Bengals</option>
<option value="8">Cleveland Browns</option>
<option value="9">Dallas Cowboys</option>
<option value="10">Denver Broncos</option>
<option value="11">Detroit Lions</option>
<option value="12">Green Bay Packers</option>
<option value="13">Houston Texans</option>
<option value="14">Inianapolis Colts</option>
<option value="15">Jacksonville Jaguars</option>
<option value="16">Kansas City Chiefs</option>
<option value="17">Miami Dolphins</option>
<option value="18">Minnesota Vikings</option>
<option value="19">New England Patriots</option>
<option value="20">New Orleans Saints</option>
<option value="21">New York Giants</option>
<option value="22">New York Jets</option>
<option value="23">Oakland Raiders</option>
<option value="24">Philadelphia Eagles</option>
<option value="25">Pittsburgh Steelers</option>
<option value="26">San Diego Chargers</option>
<option value="27">San Francisco 49ers</option>
<option value="28">Seattle Seahawks</option>
<option value="29">St. Louis Rams</option>
<option value="30">Tampa Bay Buccaneers</option>
<option value="31">Tennessee Titans</option>
<option value="32">Washington Redskins</option>
</select>
</div>

<!-- Home Team's Icon -->

<div style="position: absolute;  top:942px; left:704px;"> 
<img style="width: 246px; height: 164px; background: url(./Football_files/teamicons.jpg) 246px 164px;" id="homepic">
</div>

<!-- Away Team's Icon -->

<div style="position: absolute;  top:942px; left:130px;"> 
<img style="width: 246px; height: 164px; background: url(./Football_files/teamicons.jpg) 246px 164px;" id="awaypic">
</div>

<!-- Home Team's Stylized Name -->

<div style="position: absolute;  top:1114px; left:607px;"> 
<img style="width: 400px; height: 125px; background: url(./Football_files/TeamNames.jpg) 400px 125px;" id="homestyle">
</div>

<!-- Away Team's Stylized Name -->

<div style="position: absolute;  top:1114px; left:73px;"> 
<img style="width: 400px; height: 125px; background: url(./Football_files/TeamNames.jpg) 800px 125px;" id="awaystyle">
</div>

<!-- Line Of Scrimmage -->

<div style="position:relative; top:462px; left:88px;">
<img src="./Football_files/los.png" id="los" >
</div>

<!-- First Down Line -->

<div style="position:relative; top:462px; left:88px;">
<img src="./Football_files/firstdown.png" id="firstdownline" >
</div>

<!-- Possession Indicator Football -->

<div style="position:relative; top:1319px; left:380px;">
<img src="./Football_files/football.png" id="football" >
</div>

<!-- Touchdown Button -->

<div style="position: absolute;  top:150px; left:405px;"> 
	<img src="./Football_files/3W26Hwh.png" id="touchdownbutton" onclick="save();touchdown();">
</div>

<!-- Kick Button -->

<div style="position: absolute;  top:350px; left:405px;"> 
	<img src="./Football_files/uom20MK.png" id="kickbutton" onclick="save();kick();">
</div>

<!-- Punt Button-->

<div style="position: absolute;  top:350px; left:705px;"> 
	<img src="./Football_files/SIpq8WT.png" id="puntbutton" onclick="save();punt();">
</div>

<!-- Undo Button -->

<div style="position: absolute;  top:0px; left:900px;"> 
	<img src="./Football_files/fsXCCYl.png" id="undobutton" onclick="undo();">
</div>

<!-- Cancel Button

<div style="position: absolute;  top:50px; left:980px;"> 
	<img src="./Football_files/WdYWxqH.png" id="cancelbutton" onclick="cancel();">
</div>

-->

<!-- Fumble Button -->

<div style="position: absolute;  top:250px; left:405px;"> 
	<img src="./Football_files/aDCYIoN.png" id="fumblebutton" onclick="save();fumble();">
</div>


<!-- Int Button-->

<div style="position: absolute;  top:250px; left:705px;"> 
	<img src="./Football_files/hoAMDVE.png" id="intbutton" onclick="save();int();">
</div>

<!-- Penalty Button-->

<div style="position: absolute;  top:150px; left:1005px;"> 
	<img src="./Football_files/penalty.png" id="penaltybutton" onclick="save();penalty();">
</div>

<!-- Breakaway Button-->

<div style="position: absolute;  top:150px; left:330px;"> 
	<img src="./Football_files/breakaway.png" id="breakawaybutton" onclick="save();breakaway();">
</div>

<!-- Yard Entry Button-->

<div style="position: absolute;  top:370px; left:20px;"> 
	<img src="./Football_files/yards.png" id="yardsbutton" onclick="save();input();">
</div>

<!-- Yellow Button-->

<div style="visibility:hidden; position: absolute;  top:350px; left:405px;"> 
	<img src="./Football_files/yellow.png" id="yellowbutton" onclick="save();yellow();">
</div>

<!-- Off the board Button-->

<div style="visibility:hidden; position: absolute;  top:350px; left:405px;"> 
	<img src="./Football_files/offboard.png" id="offboardbutton" onclick="save();offboard();">
</div>

<!-- Kick is Good Button -->

<div style="position: absolute;  top:150px; left:330px;"> 
	<img src="./Football_files/Good.png" id="goodbutton" onclick="save();kickgood();">
</div>

<!-- Kick is No Good Button -->

<div style="position: absolute;  top:150px; left:705px;"> 
	<img src="./Football_files/NoGood.png" id="nogoodbutton" onclick="save();kicknogood();">
</div>

<!-- Try for One PAT Button -->

<div style="position: absolute;  top:150px; left:330px;"> 
	<img src="./Football_files/onept.png" id="oneptbutton" onclick="save();onepat();">
</div>

<!-- Try for Two PAT Button -->

<div style="position: absolute;  top:150px; left:705px;"> 
	<img src="./Football_files/twopt.png" id="twoptbutton" onclick="save();twopat();">
</div>

<!-- Two Darts Breakaway Button -->

<div style="position: absolute;  top:150px; left:330px;"> 
	<img src="./Football_files/twodartbreak.png" id="twodartbutton" onclick="save();twodart();">
</div>

<!-- Three Darts Breakaway Button -->

<div style="position: absolute;  top:150px; left:705px;"> 
	<img src="./Football_files/threedartbreak.png" id="threedartbutton" onclick="save();threedart();">
</div>

<!-- Five Yard Penalty -->

<div style="position: absolute;  top:300px; left:330px;"> 
	<img src="./Football_files/5yd.png" id="fiveyardpen" onclick="save();pentype=1;penalty();">
</div>

<!-- Fifteen Yard Penalty -->

<div style="position: absolute;  top:150px; left:330px;"> 
	<img src="./Football_files/15yd.png" id="fifteenyardpen" onclick="save();pentype=2;penalty();">
</div>

<!-- 5 yard "Low Dart loses" penalty -->

<div style="position: absolute;  top:150px; left:705px;"> 
	<img src="./Football_files/5ydldl.png" id="fiveyardlowdart" onclick="save();pentype=3;penalty();">
</div>

<!-- 10 yard "Low Dart loses" penalty -->

<div style="position: absolute;  top:300px; left:705px;"> 
	<img src="./Football_files/10ydldl.png" id="tenyardlowdart" onclick="save();pentype=4;penalty();">
</div>

<!-- Cheating blocker Image -->

<div style="position: absolute;  top:150px; left:330px;"> 
	<img src="./Football_files/block.png" id="block">
</div>

<!-- Kickoff at the beginning -->

<div style="position: absolute;  top:150px; left:330px;"> 
	<img src="./Football_files/kickoff.png" id="kickoff" onclick="setchoice=1;setup();">
</div>

<!-- Recieve the ball at the beginning -->

<div style="position: absolute;  top:150px; left:705px;"> 
	<img src="./Football_files/receive.png" id="receive" onclick="setchoice=2;setup();">
</div>

<!-- Choose to defend the left side of the field at the beginning of the game -->

<div style="position: absolute;  top:300px; left:330px;"> 
	<img src="./Football_files/DefendLeft.png" id="dleft" onclick="setchoice=3;setup();">
</div>

<!-- Choose to defend the right side of the field at the beginning of the game -->

<div style="position: absolute;  top:300px; left:705px;"> 
	<img src="./Football_files/DefendRight.png" id="dright" onclick="setchoice=4;setup();">
</div>

<!-- Button used to choose heads  -->

<div style="position: absolute;  top:150px; left:330px;"> 
	<img src="./Football_files/Heads.png" id="Heads" onclick="heads=1;cointoss();">
</div>

<!-- Button used choose tails-->

<div style="position: absolute;  top:150px; left:705px;"> 
	<img src="./Football_files/Tails.png" id="Tails" onclick="cointoss();">
</div>

<!-- Button used to play to 19 points -->

<div style="position: absolute;  top:150px; left:330px;"> 
	<img src="./Football_files/playto19.png" id="nineteen" onclick="playto=19;cointoss();">
</div>

<!-- Button used to play to 25 points -->

<div style="position: absolute;  top:150px; left:705px;"> 
	<img src="./Football_files/playto25.png" id="twentyfive" onclick="playto=25;cointoss();">
</div>

<!-- Gives ids to text boxes -->

<h id="homeScore" class="homeScore"></h>
<h id="awayScore" class="awayScore"></h>
<h id="yardline" class="yardline"></h>
<h id="info" class="info"></h>
<h id="info2" class="info2"></h>
<h id="down" class="down"></h>
<h id="yardstogo" class="yardstogo"></h>
<h id="half" class="half"></h>

<script>

<!-- Initializing Variables -->
//Team Scores
var homeScore = 0;
var awayScore = 0;
//Current yardline (0-100)
var yardline = 20;
//Who has Possession
var homeball = 1;
//Assigning some pictures to variables
var football = document.getElementById("football");
var los = document.getElementById("los");
var firstdownline = document.getElementById("firstdownline");
//Yards gained on a play
var yards = 0;
//Yardline displayed (1-50)
var postyard = 0;
//Used to make the clear button have to be activated twice in a row to work
var clearflag = 0;
//A generic counter
var i = 0;
//fisrt down yardline to reach (0-100)
var firstyard = 30;
//Current Down
var down = 0;
//Yards needed to reach the first down
var yardstogo = 10;
//Amount of breakaway darts remaining - 1
var breakcounter = 0;
//Is it a breakaway
var breakflag = 0;
//Is it a punt return
var puntreturn = 0;
//Number of punt darts remaining - 1
var puntcounter = 0;
//Is it a punt
var puntflag = 0;
//What is displayed in the info box at the top
var info = '';
var info2 = '';
//Is it a PAT
var patflag = 0;
//Indicates what half of the game it is
var half = 1;
//Stores the name of the team
var hometeam = "";
var awayteam = "";
//The picture used to display the team's icon
var homepic = document.getElementById("homepic");
var awaypic = document.getElementById("awaypic");
var homestyle = document.getElementById("homestyle");
var awaystyle = document.getElementById("awaystyle");
//Score game is played until
var playto = 19;
var heads = 0;
var tossed = 0;
var coinresult = 0;
var setchoice = 0;
var homewincoin = 0;
var disphalf = 1;
var choiceflag = 0;
var homestartwithball = 0;
var halftimescore = 10;
var pentype = 0;
var pendartcount = 0;
var loss = 0;

<!-- Button visibilities -->
var yellowbutton = 'hidden';
var kickbutton = 'visible';
var puntbutton = 'visible';
var goodbutton = 'hidden';
var nogoodbutton = 'hidden';
var yardsbutton = 'visible';
var oneptbutton = 'hidden';
var twoptbutton = 'hidden';
var twodartbutton = 'hidden';
var threedartbutton = 'hidden';
var fiveyardpen = 'hidden';
var fifteenyardpen = 'hidden';
var fiveyardlowdart = 'hidden';
var tenyardlowdart = 'hidden';
var offboardbutton = 'hidden';

<!-- The position of the next available state. -->
var nextStateIndex = 0;

<!-- The position of the last state that exists.-->
var lastStateIndex = 0;

<!-- The number of variables in a state. -->
var stateVarCount = 34;

<!-- The number of undo states, plus one. -->
var numUndoStates = 31;

<!-- Holds all previous states. -->
var savearr = new Array(stateVarCount*numUndoStates);

//initialize the game; this is run first automatically
function init(){
	ballonyard();
	//show the score and current half
	document.getElementById("homeScore").innerHTML = homeScore;
	document.getElementById("awayScore").innerHTML = awayScore;
	document.getElementById("half").innerHTML = disphalf;
	//Hide buttons that need hidden
	document.getElementById("yellowbutton").style.visibility = yellowbutton;
	document.getElementById("goodbutton").style.visibility = goodbutton;
	document.getElementById("nogoodbutton").style.visibility = nogoodbutton;
	document.getElementById("oneptbutton").style.visibility = oneptbutton;
	document.getElementById("twoptbutton").style.visibility = twoptbutton;
	document.getElementById("twodartbutton").style.visibility = twodartbutton;
	document.getElementById("threedartbutton").style.visibility = threedartbutton;
	document.getElementById("fiveyardpen").style.visibility = fiveyardpen;
	document.getElementById("fifteenyardpen").style.visibility = fifteenyardpen;
	document.getElementById("fiveyardlowdart").style.visibility = fiveyardlowdart;
	document.getElementById("tenyardlowdart").style.visibility = tenyardlowdart;
	document.getElementById("yardsbutton").style.visibility = 'hidden';
	document.getElementById("yards").disabled = true;
	info = "Play to what score?"
	document.getElementById("info").innerHTML = info;
	
}

//determines who starts with the ball
function cointoss(){
	if(tossed == 0){
		halftimescore = Math.floor(playto/2)+(playto%2);
    	tossed = 1;
		coinresult = Math.round(Math.random());
    	info = "Visiting team, pick heads or tails."
    	document.getElementById("info").innerHTML = info;
    	document.getElementById("nineteen").style.visibility = 'hidden';
    	document.getElementById("twentyfive").style.visibility = 'hidden';
	}else{
		document.getElementById("Heads").style.visibility = 'hidden';
    	document.getElementById("Tails").style.visibility = 'hidden';
		if(coinresult == heads){
			homewincoin = 0;
			info = "Visiting team has won the toss.";
    		document.getElementById("info").innerHTML = info;
			info2 = "What would you like to do?";
    		document.getElementById("info2").innerHTML = info2;
		}else{
			homewincoin = 1;
			info = "Home team has won the toss.";
    		document.getElementById("info").innerHTML = info;
			info2 = "What would you like to do?";
    		document.getElementById("info2").innerHTML = info2;
		}
	}
}

function setup(){
	if(choiceflag == 0){
    	if(((setchoice == 1)&&(homewincoin)) || ((setchoice == 2)&&(homewincoin == 0))){
    		homeball = 1;
			homestartwithball = 0;
    		document.getElementById("kickoff").style.visibility = 'hidden';
        	document.getElementById("receive").style.visibility = 'hidden';
    	}else if(((setchoice == 1)&&(homewincoin == 0)) || ((setchoice == 2)&&(homewincoin))){
    		homeball = 0;
			homestartwithball = 1;
    		document.getElementById("kickoff").style.visibility = 'hidden';
        	document.getElementById("receive").style.visibility = 'hidden';
    	}else if(((setchoice == 3)&&(homewincoin)) || ((setchoice == 4)&&(homewincoin == 0))){
    		half = 1;
    		document.getElementById("dleft").style.visibility = 'hidden';
        	document.getElementById("dright").style.visibility = 'hidden';
    	}else if(((setchoice == 3)&&(homewincoin == 0)) || ((setchoice == 4)&&(homewincoin))){
    		half = 2;
    		document.getElementById("dleft").style.visibility = 'hidden';
        	document.getElementById("dright").style.visibility = 'hidden';
		}
		if(homewincoin){
			info = "Visiting team,";
    		document.getElementById("info").innerHTML = info;
		}else{
			info = "Home team,";
    		document.getElementById("info").innerHTML = info;
		}
		info2 = "What would you like to do?";
    	document.getElementById("info2").innerHTML = info2
		choiceflag = 1;
	}else{
		if(((setchoice == 1)&&(homewincoin)) || ((setchoice == 2)&&(homewincoin == 0))){
    		homeball = 0;
			homestartwithball = 1;
    		document.getElementById("kickoff").style.visibility = 'hidden';
        	document.getElementById("receive").style.visibility = 'hidden';
    	}else if(((setchoice == 1)&&(homewincoin == 0)) || ((setchoice == 2)&&(homewincoin))){
    		homeball = 1;
			homestartwithball = 0;
    		document.getElementById("kickoff").style.visibility = 'hidden';
        	document.getElementById("receive").style.visibility = 'hidden';
    	}else if(((setchoice == 3)&&(homewincoin)) || ((setchoice == 4)&&(homewincoin == 0))){
    		half = 2;
    		document.getElementById("dleft").style.visibility = 'hidden';
        	document.getElementById("dright").style.visibility = 'hidden';
    	}else if(((setchoice == 3)&&(homewincoin == 0)) || ((setchoice == 4)&&(homewincoin))){
    		half = 1;
    		document.getElementById("dleft").style.visibility = 'hidden';
        	document.getElementById("dright").style.visibility = 'hidden';
		}
		document.getElementById("block").style.visibility = 'hidden';
		info = "Begin the game!";
    	document.getElementById("info").innerHTML = info;
		info2 = "";
    	document.getElementById("info2").innerHTML = info2;
		document.getElementById("yardsbutton").style.visibility = 'visible';
		document.getElementById("yards").disabled = false;
		down = 1;
		kickoff();
	}
}

//Sets the Home team based on the dropdown box
function hometeamselect(){
	//Gets team name
	hometeam = document.getElementById("hometeam");
	//gets the selected value from the dropdown
	var hometeamval = hometeam.options[hometeam.selectedIndex].value;
	if (hometeamval >= 1){
	   	//x coordinate of the team on the spritesheet
    	var homex = ((hometeamval-1)%5);
		//y coordinate of the team on the spritesheet
    	var homey = Math.floor((hometeamval-1)/5);
	}
	//assigns the new x and y coordinates to the spritesheet
	homepic.style.backgroundPosition = (homex*(-246)) + 'px ' + (homey*(-164)) + 'px';
	homestyle.style.backgroundPosition = (homex*(-400)) + 'px ' + (homey*(-125)) + 'px';
}

//Sets the Away team based on the dropdown box
function awayteamselect(){
	//Gets team name
	awayteam = document.getElementById("awayteam");
	//gets the selected value from the dropdown
	var awayteamval = awayteam.options[awayteam.selectedIndex].value;
	if (awayteamval >= 1){
	   	//x coordinate of the team on the spritesheet
    	var awayx = ((awayteamval-1)%5);
		//y coordinate of the team on the spritesheet
    	var awayy = Math.floor((awayteamval-1)/5);
	}
	//assigns the new x and y coordinates to the spritesheet
	awaypic.style.backgroundPosition = (awayx*(-246)) + 'px ' + (awayy*(-164)) + 'px';
	awaystyle.style.backgroundPosition = (awayx*(-400)) + 'px ' + (awayy*(-125)) + 'px';
}
 //Gets the value from the input box
function input() {
	info = "";
    document.getElementById("info").innerHTML = info;
	//assigns the value to "yards"
	yards = parseInt(document.getElementById("yards").value);
	//clear the input box
	document.getElementById("yards").value = '';
	//make sure the input makes some sense
	if(yards > -100 && yards < 100){
		//If its a punt or breakaway, all values are positive
		if((puntflag)||(breakflag)){
			yards = Math.abs(yards)
		}
		//making the ball go the correct direction for the team that has it
		if(((homeball == 0) && (half == 1)) || ((homeball == 1) && (half == 2))) {
			yards = -yards;
		}
		if(pentype){
			penalty();
		}else{
			//adding the gained/lost yards to the current yardline
			yardline += yards;
			//If we are going for two, steal the input
    		if(patflag){
    			twopat();
    		//if its a punt, steal the input
    		}else if(puntflag){
    			punt();
    		//if its a breakaway, steal the input
    		}else if(breakflag){
    			breakaway();
    		//essentially a regular play goes here
    		}else{
    			ballonyard();
    		}
		}
	}
}
//If touchdown button is pressed, or touchdown condition is achieved
function touchdown() {
	if(pentype){
		yards = 100;
		penalty();
	//if we are punting or returning a punt, only give 50 yards
	}else if(puntflag){
		//Adjust for team direction
		if(((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2))){
			yardline += 50;
		}else {
			yardline -= 50;
		}
		punt();
	//if we are going for two, give more than 8 yards so it is considered "good"
	}else if(patflag){
		yards = 100;
		twopat();
	//Scoring a touchdown
	}else{
    	if(((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2))){
    		yardline = 99;
    		firstyard = 100;
    	}else{
    		yardline = 1;
    		firstyard = 0;
    	}
    	if(yardline < 50){
    		document.getElementById("yardline").innerHTML = yardline;
      	}else {
        	postyard = 100-yardline;
        	document.getElementById("yardline").innerHTML = postyard;
    	}
		down = 1;
    	document.getElementById("down").innerHTML = 1;
    	document.getElementById("yardstogo").innerHTML = 1;
    	los.style.left = 9*yardline + "px";
    	firstdownline.style.left = 9*firstyard + "px";
		//giving points to the appropriate team
        if(homeball == 1){
        	homeScore += 6;
        	document.getElementById("homeScore").innerHTML = homeScore;
        }else {
        	awayScore +=6;
        	document.getElementById("awayScore").innerHTML = awayScore;
        }
		info = "Touchdown! Try for:";
    	document.getElementById("info").innerHTML = info;
		info2 = "";
    	document.getElementById("info2").innerHTML = info2;
		//try for the point after
		pat();
		//reset these so they don't carry over to next possession
		breakflag = 0;
    	puntflag = 0
    	breakcounter = 0;
		kickbutton = 'visible';
		puntbutton = 'visible';
		document.getElementById("puntbutton").style.visibility = 'visible';
		document.getElementById("kickbutton").style.visibility = 'visible';
		puntcounter = 0;
	}
}

//sets up for one or two point conv. descision
function pat(){
	//set buttons to proper visibilities
	oneptbutton = 'visible';
	twoptbutton = 'visible';
	yardsbutton = 'hidden';
	document.getElementById("oneptbutton").style.visibility = 'visible';
	document.getElementById("twoptbutton").style.visibility = 'visible';
	document.getElementById("yardsbutton").style.visibility = 'hidden';
}

//We are going for one point after a TD
function onepat(){
	//it is now a PAT
	patflag = 1;
    info = "Attempting an extra point";
    document.getElementById("info").innerHTML = info;
	//show good/no good buttons
	goodbutton = 'visible';
	nogoodbutton = 'visible';
	//get rid of descision buttons
	oneptbutton = 'hidden';
	twoptbutton = 'hidden';
	document.getElementById("goodbutton").style.visibility = 'visible';
	document.getElementById("nogoodbutton").style.visibility = 'visible';
	document.getElementById("oneptbutton").style.visibility = 'hidden';
	document.getElementById("twoptbutton").style.visibility = 'hidden';
}

//We are going for two!
function twopat(){
	//have we been here already?
	if(patflag){
		//we are done being a PAT
		patflag = 0;
		//restore normal buttons
		puntbutton = 'visible';
		kickbutton = 'visible';
		document.getElementById("puntbutton").style.visibility = 'visible';
		document.getElementById("kickbutton").style.visibility = 'visible';
		//See if we got the 8 yards required to convert
		if(yards >= 8){
			info = "Two point conversion is good!";
        	document.getElementById("info").innerHTML = info;
			//we did, so let's give out the point
			if(homeball){
				homeScore += 2;
			    document.getElementById("homeScore").innerHTML = homeScore;
			}else{
				awayScore +=2;
			    document.getElementById("awayScore").innerHTML = awayScore;
			}
		}else{
			//no good
			info = "Two point conversion is no good";
        	document.getElementById("info").innerHTML = info;
		}
		//Scoring situation over, time to kickoff
		kickoff();
		scorecheck();
	}else{
		//we are now in a two point attempt
    	patflag = 1;
		//the ball goes on the 8 yard line
		if(((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2))){
			yardline = 92;
			firstyard = 100;
		}else{
			yardline = 8;
			firstyard = 0;
		}
		if(yardline < 50){
			document.getElementById("yardline").innerHTML = yardline;
  		}else {
    		postyard = 100-yardline;
    		document.getElementById("yardline").innerHTML = postyard;
		}
		down = 1;
		document.getElementById("down").innerHTML = 1;
		document.getElementById("yardstogo").innerHTML = 8;
		los.style.left = 9*yardline + "px";
		firstdownline.style.left = 9*firstyard + "px";
        info = "Attempting a two point conversion.";
        document.getElementById("info").innerHTML = info;
		//hide the buttons we don't need, bring back the ones we do
    	oneptbutton = 'hidden';
    	twoptbutton = 'hidden';
		puntbutton = 'hidden';
		kickbutton = 'hidden';
		yardsbutton = 'visible';
		document.getElementById("puntbutton").style.visibility = 'hidden';
		document.getElementById("kickbutton").style.visibility = 'hidden';
    	document.getElementById("oneptbutton").style.visibility = 'hidden';
    	document.getElementById("twoptbutton").style.visibility = 'hidden';
		document.getElementById("yardsbutton").style.visibility = 'visible';
	}
}

//Safety conditions are met
function safety() {
	info = "Safety!";
	document.getElementById("info").innerHTML = info;
	info2 = "First down!";
	document.getElementById("info2").innerHTML = info2;
	//give the team who didn't have the ball 2 points and the ball
	if(((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2))){
		awayScore += 2;
	  	document.getElementById("awayScore").innerHTML = awayScore;
		//ball goes to the 30
		yardline = 70;
	}else {
	  	homeScore += 2;
	  	document.getElementById("homeScore").innerHTML = homeScore;
		yardline = 30;
	}
	turnover();
	scorecheck();
}
//We have decided to punt
function punt() {
	//Check the in an odd order, because that's how I roll
	if(puntreturn){
		//return buttons to normal
		puntbutton = 'visible';
		kickbutton = 'visible';
		document.getElementById("puntbutton").style.visibility = 'visible';
		document.getElementById("kickbutton").style.visibility = 'visible';
		info = "";
    	document.getElementById("info").innerHTML = info;
		//we are done returning the punt
		puntreturn = 0;
		//The punt condition is over
		puntflag = 0;
		firstdown();
		down = 0;
		ballonyard();
	//we go here Second
	}else if(puntcounter){
		info = "Punting. Darts remaining: " + puntcounter;
		document.getElementById("info").innerHTML = info;
		//one less dart for punting
		puntcounter -= 1;
		ballonyard();
	//This is third
	}else if(puntflag){
		//We are now returning the punt
		puntreturn = 1;
		info = "1 dart for punt return!";
		document.getElementById("info").innerHTML = info;
		//Give the ball to the other team
    	if(homeball){
    		homeball=0;
    		football.style.left = 0 + "px";
    	} else{
    	  	homeball=1;
    		football.style.left = 243 + "px";
    	}
		ballonyard();
		//yellow button was for punts only
		yellowbutton = 'hidden';
		document.getElementById("yellowbutton").style.visibility = 'hidden';
	//We go here first
	}else{
		//puntcounter is one less than the number of darts
		puntcounter = 2;
		//we are now punting
		puntflag = 1;
		info = "Punting. Darts remaining: 3";
		document.getElementById("info").innerHTML = info;
		info2 = "";
		document.getElementById("info2").innerHTML = info2;
		//set button visibilities
		puntbutton = 'hidden';
		kickbutton = 'hidden';
		yellowbutton = 'visible';
		document.getElementById("puntbutton").style.visibility = 'hidden';
		document.getElementById("kickbutton").style.visibility = 'hidden';
		document.getElementById("yellowbutton").style.visibility = 'visible';
	}
}

//We want to put the ball through the uprights
function kick() {
	info2 = "";
    document.getElementById("info2").innerHTML = info2;
	//check if we are in range for a field goal
	if(((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2))){
		//we must be at least to the 45 yard line
		if(yardline >= 55){
    		info = "Attempting a kick from the " + postyard;
    		info = info + "."
    		document.getElementById("info").innerHTML = info;
			//allow only good or no good selections
			goodbutton = 'visible';
			nogoodbutton = 'visible';
			yardsbutton = 'hidden';
			document.getElementById("goodbutton").style.visibility = 'visible';
			document.getElementById("nogoodbutton").style.visibility = 'visible';
			document.getElementById("yardsbutton").style.visibility = 'hidden';
		}else {    		
			info = "Not in Range";
    		document.getElementById("info").innerHTML = info;
		}
	//same as above, but for the opposite side of the field	
	} else{
	  	if(yardline <= 45){
    		info = "Attempting a kick from the " + yardline;
    		info = info + "."
    		document.getElementById("info").innerHTML = info;
			goodbutton = 'visible';
			nogoodbutton = 'visible';
			yardsbutton = 'hidden';
			document.getElementById("goodbutton").style.visibility = 'visible';
			document.getElementById("nogoodbutton").style.visibility = 'visible';
			document.getElementById("yardsbutton").style.visibility = 'hidden';
		}else {    		
			info = "Not in Range";
    		document.getElementById("info").innerHTML = info;
		}	
	}
}

//the kick was good!
function kickgood() {
	//The home team has the ball
	if(homeball){
		//only one point if this was a PAT
		if(patflag){
			homeScore +=1;
		//if it wasn't a PAT, it must be a field goal
		}else{
			homeScore +=3;
		}
	  	document.getElementById("homeScore").innerHTML = homeScore;
	//the away team has the ball
	}else{
		if(patflag){
			awayScore +=1;
		}else{
			awayScore +=3;
		}
	  	document.getElementById("awayScore").innerHTML = awayScore;
	}
	//Return buttons to normal
	info = "";
    document.getElementById("info").innerHTML = info;
	goodbutton = 'hidden';
	nogoodbutton = 'hidden';
	yardsbutton = 'visible';
	document.getElementById("goodbutton").style.visibility = 'hidden';
	document.getElementById("nogoodbutton").style.visibility = 'hidden';
	document.getElementById("yardsbutton").style.visibility = 'visible';
	//Kickoff after scoring
	kickoff();
	scorecheck();
}

//The kick was no good
function kicknogood() {
	//return buttons to normal
	info = "";
    document.getElementById("info").innerHTML = info;
	goodbutton = 'hidden';
	nogoodbutton = 'hidden';
	yardsbutton = 'visible';
	document.getElementById("goodbutton").style.visibility = 'hidden';
	document.getElementById("nogoodbutton").style.visibility = 'hidden';
	document.getElementById("yardsbutton").style.visibility = 'visible';
	if(patflag){
		//Since this was just a PAT, we Kick off
		kickoff();
	}else{
		//We missed the field goal. The other team gets the ball from there
    	turnover();
	}
	scorecheck();
}

//Resets the page
//Not currently usable, the button to activate is commented out
function cancel() {
	if(clearflag) {
		window.location.reload();
	}else {
		clearflag = 1;
	}
}

//Fumble! The fumble buttton was pressed.
function fumble() {
	//If we are punting, but not returning, then this adds 20 yards
	if((puntflag)&&(puntreturn == 0)){
		if(((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2))){
			yardline += 20;
		}else {
			yardline -= 20;
		}
		//report back to punt()
		punt();
	//in a two point conversion attempt, that means you failed
	}else if(patflag){
		//we say you failed by giving you no yards 
		yards = 0;
		twopat();
	}else if(pentype){
		yards = -100;
		penalty();
	}else{
		info = "Fumble!";
    	document.getElementById("info").innerHTML = info;
		//normally, we just make sure your breakaway is over
		breakflag = 0;
		breakcounter = 0;
		//and give the ball to the other team
		turnover();
	}
	//I'm not sure why this is here, but Nothing seems broken
	//But it is probably to reset the punt
	if(puntreturn){
		punt();
	}
}

//The interception button was pressed
function int() {
	//if we are punting but not returning, this adds 20 yards to the punt
	if((puntflag) && (!puntreturn)){
		if(((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2))){
			yardline += 20;
		}else {
			yardline -= 20;
		}
		punt();
	//We get nothing for this on a punt return
	}else if(puntreturn){
		punt();
	//We get nothing for this on a breakaway
	}else if(breakflag){
		breakaway();
	//This is an automatic failure on a two point conversion
	}else if(patflag){
		//Failure is reported by saying you gained no yards
		yards = 0;
		twopat();
	//This is the part that is a real interception
	}else if(pentype){
		yards = -100;
		penalty();
	}else {
		info = "Interception!";
    	document.getElementById("info").innerHTML = info;
		//We check to see who threw the interception
    	if(((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2))){
    		//Ball is intecepted 20 yards downfield, so we see if it goes into the endzone for a touchback
			if(yardline < 80){
    			yardline += 20;
    		}else {
    			yardline = 80;
    		}
    	}else {
    		if (yardline > 20){
    		   	yardline -= 20;
    		}else {
    			yardline = 20;
    		}
    	}
    	turnover();
	}
}

//Penalty button is pressed
function penalty(){
	//It is good for 10 yards on a punt, but not a punt return
	if((puntflag) && (!puntreturn)){
		if(((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2))){
			yardline += 10;
		}else {
			yardline -= 10;
		}
		punt();
	//good for nothing on a punt return
	}else if(puntreturn){
		punt();
	//Good for nothing on a breakaway
	}else if(breakflag){
		breakaway();
	//Fail condition on a PAT??? Needs checked
	}else if(patflag){
		yards = 0;
		twopat();
	//This is where normal penalty functions go
	}else{
		if(pentype == 0){
    		//bring out the penalty buttons
    		fiveyardpen = 'visible';
    		fifteenyardpen = 'visible';
    		fiveyardlowdart = 'visible';
    		tenyardlowdart = 'visible';
    		yardsbutton = 'hidden';
			info = "Choose which penalty:";
    		document.getElementById("info").innerHTML = info;
			info2 = "";
    		document.getElementById("info2").innerHTML = info2;
    		document.getElementById("fiveyardpen").style.visibility = 'visible';
    		document.getElementById("fifteenyardpen").style.visibility = 'visible';
    		document.getElementById("fiveyardlowdart").style.visibility = 'visible';
    		document.getElementById("tenyardlowdart").style.visibility = 'visible';
    		document.getElementById("yardsbutton").style.visibility = 'hidden';
		}else{
			fiveyardpen = 'hidden';
    		fifteenyardpen = 'hidden';
    		fiveyardlowdart = 'hidden';
    		tenyardlowdart = 'hidden';
    		yardsbutton = 'visible';
			info = "";
    		document.getElementById("info").innerHTML = info;
    		document.getElementById("fiveyardpen").style.visibility = 'hidden';
    		document.getElementById("fifteenyardpen").style.visibility = 'hidden';
    		document.getElementById("fiveyardlowdart").style.visibility = 'hidden';
    		document.getElementById("tenyardlowdart").style.visibility = 'hidden';
			document.getElementById("yardsbutton").style.visibility = 'visible';
			if(pentype == 1){
				if(((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2))){
					if(yardline <= 9){
						loss = Math.floor(yardline/2);
					}else{
						loss = 5;
					}
        			yardline -= loss;
        		}else {
        			if(yardline >= 91){
						loss = Math.floor((100-yardline)/2);
					}else{
						loss = 5;
					}
        			yardline += loss;
        		}
				down -= 1;
				pentype = 0;
				ballonyard();
			}else if(pentype == 2){
				if(((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2))){
					if(yardline <= 29){
						loss = Math.floor(yardline/2);
					}else{
						loss = 15;
					}
        			yardline -= loss;
        		}else {
        			if(yardline >= 71){
						loss = Math.floor((100-yardline)/2);
					}else{
						loss = 15;
					}
        			yardline += loss;
        		}
				down -= 1;
				pentype = 0;
				ballonyard();
			}else if(pentype == 3){
				offboardbutton = 'visible';
				document.getElementById("offboardbutton").style.visibility = 'visible';
				if(pendartcount == 0){
					pendartcount = 1;
    				if(homeball){
    					info = "Home team, throw a dart.";
					}else{
						info = "Visiting team, throw a dart.";
					}
    				document.getElementById("info").innerHTML = info;
				}else if(pendartcount == 1){
					pendartcount = 2;
					tossed = yards;
					if(homeball){
    					info = "Visiting team, throw a dart.";
					}else{
						info = "Home team, throw a dart.";
					}
    				document.getElementById("info").innerHTML = info;
				}else{
					if(tossed == yards){
						pendartcount = 0;
						penalty();
					}else if(((tossed > yards)&&(((homeball == 1)&&(half == 1))||((homeball == 0)&&(half == 2))))||((tossed < yards)&&(((homeball == 0) && (half == 1))||((homeball == 1)&&(half == 2))))){
						if(yardline >= 91){
    						loss = Math.floor((100-yardline)/2);
						}else{
    						loss = 5;
						}
						pendartcount = 0;
						yardline += loss;
						offboardbutton = 'hidden';
        				document.getElementById("offboardbutton").style.visibility = 'hidden';
        				down -= 1;
        				pentype = 0;
        				ballonyard();
					}else{
						if(yardline <= 9){
    						loss = Math.floor(yardline/2);
						}else{
    						loss = 5;
						}
            			info = "";
                		document.getElementById("info").innerHTML = info;
						pendartcount = 0;
						yardline -= loss;
    					offboardbutton = 'hidden';
        				document.getElementById("offboardbutton").style.visibility = 'hidden';
        				down -= 1;
        				pentype = 0;
        				ballonyard();
					}
				}
			}else{
				offboardbutton = 'visible';
				document.getElementById("offboardbutton").style.visibility = 'visible';
				if(pendartcount == 0){
					pendartcount = 1;
    				if(homeball){
    					info = "Home team, throw a dart.";
					}else{
						info = "Visiting team, throw a dart.";
					}
    				document.getElementById("info").innerHTML = info;
				}else if(pendartcount == 1){
					pendartcount = 2;
					tossed = yards;
					if(homeball){
    					info = "Visiting team, throw a dart.";
					}else{
						info = "Home team, throw a dart.";
					}
    				document.getElementById("info").innerHTML = info;
				}else{
					if(tossed == yards){
						pendartcount = 0;
						penalty();
					}else if(((tossed > yards)&&(((homeball == 1)&&(half == 1))||((homeball == 0)&&(half == 2))))||((tossed < yards)&&(((homeball == 0) && (half == 1))||((homeball == 1)&&(half == 2))))){
						if(yardline >= 81){
    						loss = Math.floor((100-yardline)/2);
						}else{
    						loss = 10;
						}
						pendartcount = 0;
						yardline += loss;
						offboardbutton = 'hidden';
        				document.getElementById("offboardbutton").style.visibility = 'hidden';
        				down -= 1;
        				pentype = 0;
        				ballonyard();
					}else{
						if(yardline <= 19){
    						loss = Math.floor(yardline/2);
						}else{
    						loss = 10;
						}						
            			info = "";
                		document.getElementById("info").innerHTML = info;
						pendartcount = 0;
						yardline -= loss;
    					offboardbutton = 'hidden';
        				document.getElementById("offboardbutton").style.visibility = 'hidden';
        				down -= 1;
        				pentype = 0;
        				ballonyard();
					}
				}
			}
		}
	}
}

//The breakaway button is pressed
function breakaway(){
	//it is good for 10 yard on a punt, but not a return
	if((puntflag) && (!puntreturn)){
		if(((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2))){
			yardline += 10;
		}else {
			yardline -= 10;
		}
		punt();
	//good for nothing on a punt return
	}else if(puntreturn){
		punt();
	//results in failure on a PAT
	}else if(patflag){
		yards = 0;
		twopat();
	//Real breakaway functionality is found here
	}else if(pentype){
		yards = 0;
		penalty();
	}else{
		//Check if we have raised the break flag 
    	if(breakflag){
    		if(breakcounter >= 1){
				info = "Breakaway! Darts remaining: " + breakcounter;
    			document.getElementById("info").innerHTML = info;
    			breakcounter = breakcounter - 1;
    			ballonyard();
			}else{
				breakflag = 0;
    			ballonyard();
				info = "";
    			document.getElementById("info").innerHTML = info;
            	puntbutton = 'visible';
            	kickbutton = 'visible';
            	document.getElementById("puntbutton").style.visibility = 'visible';
            	document.getElementById("kickbutton").style.visibility = 'visible';
    		}
		//We start here	   	
    	}else{
			//initiate breakaway situation
    		breakflag = 1;
			//Show the buttons for 2 or 3 dart breakaways
    		twodartbutton = 'visible';
    		threedartbutton = 'visible';
    		yardsbutton = 'hidden';
			info = "Breakaway! Number of darts:";
    		document.getElementById("info").innerHTML = info;
			info2 = "";
    		document.getElementById("info2").innerHTML = info2;
    		document.getElementById("twodartbutton").style.visibility = 'visible';
    		document.getElementById("threedartbutton").style.visibility = 'visible';
    		document.getElementById("yardsbutton").style.visibility = 'hidden';
    
    	}
	}
}

//The two dart breakaway button was pressed
function twodart(){
	//this is to be 1 less than the number of breakaway darts
	breakcounter  = 1;
	//return buttons to almost normal, minus the punt and kick buttons
	twodartbutton = 'hidden';
	threedartbutton = 'hidden';
	yardsbutton = 'visible';
	puntbutton = 'hidden';
	kickbutton = 'hidden';
	document.getElementById("puntbutton").style.visibility = 'hidden';
	document.getElementById("kickbutton").style.visibility = 'hidden';
	document.getElementById("twodartbutton").style.visibility = 'hidden';
	document.getElementById("threedartbutton").style.visibility = 'hidden';
	document.getElementById("yardsbutton").style.visibility = 'visible';
	//Tell how many darts remain
	info = "Breakaway! Darts remaining: 2";
	document.getElementById("info").innerHTML = info;
}

//The three dart breakaway button was pressed
function threedart(){
	//this is to be 1 less than the number of breakaway darts
	breakcounter  = 2;
	//return buttons to almost normal, minus the punt and kick buttons
	twodartbutton = 'hidden';
	threedartbutton = 'hidden';
	yardsbutton = 'visible';
	puntbutton = 'hidden';
	kickbutton = 'hidden';
	document.getElementById("puntbutton").style.visibility = 'hidden';
	document.getElementById("kickbutton").style.visibility = 'hidden';
	document.getElementById("twodartbutton").style.visibility = 'hidden';
	document.getElementById("threedartbutton").style.visibility = 'hidden';
	document.getElementById("yardsbutton").style.visibility = 'visible';
	//Tell how many darts remain
	info = "Breakaway! Darts remaining: 3";
	document.getElementById("info").innerHTML = info;
}

//The ball was turned over for some reason
function turnover() {
	if(homeball){
		homeball=0;
		football.style.left = 0 + "px";
	} else{
	  	homeball=1;
		football.style.left = 243 + "px";
	}
	firstdown();
	down = 0;
	ballonyard();
}

//The ball was set back to the 20 yard line after a score
function kickoff(){
	//set to the correct 20 yard line
	if(((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2))){
		yardline = 80;
	} else{
	  	yardline = 20;
	}
	//play it safe with these variables
	patflag = 0;
	//ball goes to the other team
	turnover();
}

//the big function that puts the ball where it should be and decides what happens
function ballonyard() {
	//Are we punting but not returning?
	if((puntflag)&&(puntreturn == 0)){
		//If so, did we punt into the endzone?
    	if(yardline < 1 && (((homeball == 0) && (half == 1)) || ((homeball == 1) && (half == 2)))){
			//We did, so we are done punting
			puntflag = 0;
			//there is no return
			puntcounter = 0;
			puntreturn = 0;
			//the ball is placed at the 20 yard line
    	    yardline = 20;
			//make buttons normal again
			puntbutton = 'visible';
			kickbutton = 'visible';
			yellowbutton = 'hidden';
			document.getElementById("puntbutton").style.visibility = 'visible';
			document.getElementById("kickbutton").style.visibility = 'visible';
			document.getElementById("yellowbutton").style.visibility = 'hidden';
			//ball goes to the other team
			turnover();
    	}else if(yardline > 99 && (((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2)))){
			//We did, so we are done punting
    	    puntflag = 0;
			//there is no return
			puntcounter = 0;
			puntreturn = 0;
			//the ball is placed at the appropriate 20 yard line
    	    yardline = 80;
			//make buttons normal again
			puntbutton = 'visible';
			kickbutton = 'visible';
			yellowbutton = 'hidden';
			document.getElementById("puntbutton").style.visibility = 'visible';
			document.getElementById("kickbutton").style.visibility = 'visible';
			document.getElementById("yellowbutton").style.visibility = 'hidden';
			turnover();
		}
	//If we are not punting
	}else if(puntflag == 0){
		//let's do checks to see if we are in an endzone
		//We check for both touchdowns and safetys
    	if (yardline < 1 && (((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2)))){
    	    safety();
    	}else if(yardline < 1 && (((homeball == 0) && (half == 1)) || ((homeball == 1) && (half == 2)))){
    	    touchdown();
    	}else if(yardline > 99 && (((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2)))){
    	    touchdown();
    	}else if(yardline > 99 && (((homeball == 0) && (half == 1)) || ((homeball == 1) && (half == 2)))){
        	safety();
		//If we got this far, we are no in an endzone
    	}else {
			//We check to make sure this isn't a breakaway
    		if(breakflag == 0){
				//then do first down checks
            	if ((yardline >= firstyard) && (((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2)))){
            	   firstdown();
            	}else if((yardline <= firstyard) && (((homeball == 0) && (half == 1)) || ((homeball == 1) && (half == 2)))){
            	   firstdown();
				//its not first down, so it must be the next one
        		}else {
        			down += 1;
					//but if we are over 4, the we turned it over on downs
        			if (down > 4){
        			   turnover();
        			}
        		}
        		yardstogo = Math.abs(yardline - firstyard);
    		}
		}
	}
	if(down > 1){
		info2 = "";
		document.getElementById("info2").innerHTML = info2;
	}
	//for the display that shows the yardline, we can't be over 50
	if(yardline < 50){
		document.getElementById("yardline").innerHTML = yardline;
	}else {
		//the conversion is done here
		postyard = 100-yardline;
		document.getElementById("yardline").innerHTML = postyard;
	}
	document.getElementById("down").innerHTML = down;
	document.getElementById("yardstogo").innerHTML = yardstogo;
	//The line of scrimmage and first down line are appropriately placed
	los.style.left = 9*yardline + "px";
	firstdownline.style.left = 9*firstyard + "px";
}

//We Got a first down!
function firstdown(){
	//reset the down
	down = 1;
	info2 = "First down!";
	document.getElementById("info2").innerHTML = info2;
	//Set a new first down marker
	if(((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2))){
		if(yardline < 90){
			firstyard = yardline + 10;
		//Put it on the goal line if we are too close
		}else {
			firstyard = 100;
		}
	}else {
		if(yardline > 10){
			firstyard = yardline - 10;
		}else {
			firstyard = 0;
		}
	}
}

function scorecheck(){
	if(((homeScore >= halftimescore)||(awayScore >= halftimescore))&&(disphalf == 1)){
		info = "Halftime!";
		document.getElementById("info").innerHTML = info;
		homeball = homestartwithball;
		disphalf = 2;
		document.getElementById("half").innerHTML = disphalf;
		if(half == 1){
			half = 2;
		}else{
			half = 1;
		}
		down = 1;
		kickoff();
	}
	if(((homeScore >= playto)||(awayScore >= playto))&&(disphalf == 2)){
		info = "Game over!";
		document.getElementById("info").innerHTML = info;
		if(homeScore >= playto){
    		info2 = "Home team wins!";
    		document.getElementById("info2").innerHTML = info2;
		}else{
			info2 = "Visiting team wins!";
    		document.getElementById("info2").innerHTML = info2;
		}
	}
}

function offboard(){
	yards = -999;
	penalty();
}

//This is to make the special condition for punts more easy to remember
function yellow() {
	//yellow spaces become worth 10 yards durring a punt
	if(((homeball == 1) && (half == 1)) || ((homeball == 0) && (half == 2))){
		yardline += 10;
	}else{
		yardline -= 10;
	}
	punt();
}

function undo() {

	<!-- Reduce the next state index by the number of variables in the array, and get the previous state's values. -->

	if(lastStateIndex != nextStateIndex){

	   	nextStateIndex = nextStateIndex - stateVarCount;
		
        if(nextStateIndex < 0){
    			nextStateIndex = (savearr.length - stateVarCount);
    	}
    
    	homeScore = savearr[nextStateIndex + 0];
    	awayScore = savearr[nextStateIndex + 1];
    	yardline =  savearr[nextStateIndex + 2];
    	homeball = savearr[nextStateIndex + 3];
    	down = savearr[nextStateIndex + 4];
    	firstyard = savearr[nextStateIndex + 5];
    	puntcounter = savearr[nextStateIndex + 6];
    	puntflag = savearr[nextStateIndex + 7];
    	puntreturn = savearr[nextStateIndex + 8];
    	breakcounter = savearr[nextStateIndex + 9];
    	breakflag = savearr[nextStateIndex + 10];
		puntbutton = savearr[nextStateIndex + 11];
		kickbutton = savearr[nextStateIndex + 12];
		yellowbutton = savearr[nextStateIndex + 13];
    	goodbutton = savearr[nextStateIndex + 14];
		nogoodbutton = savearr[nextStateIndex + 15];
    	info = savearr[nextStateIndex + 16];
		patflag = savearr[nextStateIndex + 17];
		yardsbutton = savearr[nextStateIndex + 18];
    	oneptbutton = savearr[nextStateIndex + 19];
		twoptbutton = savearr[nextStateIndex + 20];
		half = savearr[nextStateIndex + 21];
		twodartbutton = savearr[nextStateIndex + 22];
		threedartbutton = savearr[nextStateIndex + 23];
		fiveyardpen = savearr[nextStateIndex + 24];
		fifteenyardpen = savearr[nextStateIndex + 25];
		fiveyardlowdart = savearr[nextStateIndex + 26];
		tenyardlowdart = savearr[nextStateIndex + 27];
		disphalf = savearr[nextStateIndex + 28];
		pentype = savearr[nextStateIndex + 29];
		tossed = savearr[nextStateIndex + 30];
		pendartcount = savearr[nextStateIndex + 31];
		offboardbutton = savearr[nextStateIndex + 32];
		info2 = savearr[nextStateIndex + 33];
		
        //clearflag = 0;
		if((puntflag == 0)&&(breakflag == 0)){
    		down -= 1;
		}
		document.getElementById("info").innerHTML = info;
		document.getElementById("info2").innerHTML = info2;
        ballonyard();
		document.getElementById("puntbutton").style.visibility = puntbutton;
		document.getElementById("kickbutton").style.visibility = kickbutton;
		document.getElementById("yellowbutton").style.visibility = yellowbutton;
		document.getElementById("goodbutton").style.visibility = goodbutton;
		document.getElementById("nogoodbutton").style.visibility = nogoodbutton;
		document.getElementById("yardsbutton").style.visibility = yardsbutton;
		document.getElementById("oneptbutton").style.visibility = oneptbutton;
		document.getElementById("twoptbutton").style.visibility = twoptbutton;
		document.getElementById("twodartbutton").style.visibility = twodartbutton;
		document.getElementById("threedartbutton").style.visibility = threedartbutton;
		document.getElementById("fiveyardpen").style.visibility = fiveyardpen;
		document.getElementById("fifteenyardpen").style.visibility = fifteenyardpen;
		document.getElementById("fiveyardlowdart").style.visibility = fiveyardlowdart;
		document.getElementById("tenyardlowdart").style.visibility = tenyardlowdart;
		document.getElementById("offboardbutton").style.visibility = offboardbutton;
	    document.getElementById("homeScore").innerHTML = homeScore;
        document.getElementById("awayScore").innerHTML = awayScore;
		document.getElementById("half").innerHTML = disphalf;
        if(homeball){
        	football.style.left = 243 + "px";
        } else{
        	football.style.left = 0 + "px";
        }
	}
}

function save() {

	<!-- Write the next state at the next state index. -->

	savearr[nextStateIndex + 0] = homeScore;
	savearr[nextStateIndex + 1] = awayScore;
 	savearr[nextStateIndex + 2] = yardline
	savearr[nextStateIndex + 3] = homeball;
	savearr[nextStateIndex + 4] = down, 
	savearr[nextStateIndex + 5] = firstyard,
	savearr[nextStateIndex + 6] = puntcounter,
	savearr[nextStateIndex + 7] = puntflag,
	savearr[nextStateIndex + 8] = puntreturn,
	savearr[nextStateIndex + 9] = breakcounter;
	savearr[nextStateIndex + 10] = breakflag;
	savearr[nextStateIndex + 11] = puntbutton;
	savearr[nextStateIndex + 12] = kickbutton;
	savearr[nextStateIndex + 13] = yellowbutton;
	savearr[nextStateIndex + 14] = goodbutton;
	savearr[nextStateIndex + 15] = nogoodbutton;
	savearr[nextStateIndex + 16] = info;
	savearr[nextStateIndex + 17] = patflag;
	savearr[nextStateIndex + 18] = yardsbutton;
	savearr[nextStateIndex + 19] = oneptbutton;
	savearr[nextStateIndex + 20] = twoptbutton;
	savearr[nextStateIndex + 21] = half;
	savearr[nextStateIndex + 22] = twodartbutton;
	savearr[nextStateIndex + 23] = threedartbutton;
	savearr[nextStateIndex + 24] = fiveyardpen;
	savearr[nextStateIndex + 25] = fifteenyardpen;
	savearr[nextStateIndex + 26] = fiveyardlowdart;
	savearr[nextStateIndex + 27] = tenyardlowdart;
	savearr[nextStateIndex + 28] = disphalf;
	savearr[nextStateIndex + 29] = pentype;
	savearr[nextStateIndex + 30] = tossed;
	savearr[nextStateIndex + 31] = pendartcount;
	savearr[nextStateIndex + 32] = offboardbutton;
	savearr[nextStateIndex + 33] = info2;
	
	nextStateIndex = nextStateIndex + stateVarCount;

        <!-- If the nextStateIndex is going to exceed the bounds of the array, loop to 0-->

	if(nextStateIndex >= savearr.length){
		nextStateIndex = 0;
	}

  	<!-- If the state is equal to the last state, increment the last state.-->

	if(nextStateIndex == lastStateIndex){
		lastStateIndex = lastStateIndex + stateVarCount;
		if(lastStateIndex >= savearr.length){
			lastStateIndex = 0;
		}	
	}
	//clearflag = 0;
}


</script>

 

</body></html>